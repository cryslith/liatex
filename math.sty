% useful packages:
% todo check which are required for macros below
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{latexsym}
\usepackage{gensymb}
\usepackage{mathtools}
\usepackage{tikz-cd}

\usepackage{algpseudocode}
\usepackage{algorithm}
% \renewcommand{\thealgorithm}{} % disable algorithm numbering


% nice fonts
\usepackage{libertine}
\usepackage[libertine,vvarbb]{newtxmath}
\usepackage[scaled=0.96]{zi4}
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}

% Definitions

\newcommand*{\Operator}[2]{\DeclareMathOperator{#1}{#2}}
% operator with limits typeset below
\newcommand*{\OperatorL}[2]{\DeclareMathOperator*{#1}{#2}}
% use * with Pair command to automatically insert \left and \right
\newcommand*{\Pair}[3]{\DeclarePairedDelimiter{#1}{#2}{#3}}

\makeatletter
% superimpose two math symbols
\newcommand{\superimpose}[2]{{%
  \ooalign{%
    \hfil$\m@th#1\@firstoftwo#2$\hfil\cr
    \hfil$\m@th#1\@secondoftwo#2$\hfil\cr
  }%
}}
\makeatother

% Algebra

\newcommand*{\tensor}{\otimes}
\newcommand*{\ui}{\hat{\boldsymbol{\imath}}}
\newcommand*{\uj}{\hat{\boldsymbol{\jmath}}}
\newcommand*{\uk}{\hat{\boldsymbol{k}}}
\newcommand*{\mat}[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand*{\vect}[1]{\mathbf{#1}}
\newcommand*{\tp}[0]{\mathsf{T}}

% Analysis

\newcommand*{\weakto}{\rightharpoonup}

% Category theory

\newcommand*{\epi}{\twoheadrightarrow}
\newcommand*{\iso}{\cong}
\newcommand*{\mono}{\hookrightarrow}
\newcommand*{\op}[1]{{#1}^{\mathrm{op}}}

% Logic

\newcommand*{\bto}{\leftrightarrow}
\newcommand*{\prv}{\vdash}

% Set theory

\Pair{\mkset}{\{}{\}}
\renewcommand*{\emptyset}[0]{\varnothing}
\newcommand*{\power}{\mathcal{P}}
\newcommand{\dotcup}[0]{\mathbin{\mathpalette\superimpose{{\cdot}{\cup}}}}
\DeclareMathOperator*{\bigdotcup}{\mathpalette\superimpose{{\cdot}{\bigcup}}}

% Topology

\newcommand*{\Bnd}{\partial} % boundary
\newcommand*{\Cnt}{\mathcal{C}}
\newcommand*{\htp}{\simeq}

% Cryptography

\newcommand*{\poly}{\mathsf{poly}}
\newcommand{\sample}{\mathbin{\gets\!\!{\scriptstyle \$}}}

% Probability

\newcommand*{\E}{\mathbf{E}}
\DeclareMathOperator*{\Var}{\mathrm{Var}}

% Miscellaneous

\Pair{\paren}{(}{)}
\newcommand{\Par}[1]{\paren*{#1}}

\newcommand*{\obar}[1]{\overline{#1}}

\Pair{\ang}{\langle}{\rangle}
\Pair{\norm}{\lVert}{\rVert}
\Pair{\floor}{\lfloor}{\rfloor}
\Pair{\ceil}{\lceil}{\rceil}

\newcommand*{\C}{\mathbb{C}}
\newcommand*{\F}{\mathbb{F}}
\newcommand*{\Ha}{\mathbb{H}}
\newcommand*{\N}{\mathbb{N}}
\newcommand*{\Q}{\mathbb{Q}}
\newcommand*{\R}{\mathbb{R}}
\newcommand*{\Z}{\mathbb{Z}}

\newcommand*{\bin}{\{0, 1\}}
\newcommand*{\I}{[0, 1]}

\newtheorem*{theorem}{Theorem}
\newtheorem*{lemma}[theorem]{Lemma}
\newtheorem*{prop}[theorem]{Proposition}
\newtheorem*{claim}[theorem]{Claim}
\newtheorem*{fact}[theorem]{Fact}

\renewcommand{\phi}{\varphi}

\def\[#1\]{\begin{align*}#1\end{align*}}
\newcommand*{\aln}[1]{\begin{aligned}#1\end{aligned}}
\newcommand*{\pheq}{\mathrel{\phantom{=}}} % invisible = for align mode

\newcommand*{\defn}[1]{\textbf{\textit{\boldmath #1}}}
